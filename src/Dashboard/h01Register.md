---
title: 注册
---

<a data-fancybox  href="http://assets.processon.com/chart_image/5fcf1bf2e0b34d42525295ae.png">![imges/issue.png](http://assets.processon.com/chart_image/5fcf1bf2e0b34d42525295ae.png)</a>



## 欢迎页

- 功能结构
  - 注册跳转按钮
  - 登录跳转按钮
  - 备份导入按钮


- 首次进入显示欢迎页，欢迎页显示登录、注册、还原备份按钮。

- 非首次进入，判断用户密码是否失效，密码失效跳转至登录页面。并在邮箱账号输入框中显示已经存在数据的账户地址。

  

### 密码失效规则

用户在登录账户密码有效期为 3 天，3 天内进行任何操作，密码有效期在最后操作时间后延续三天。



## 注册

### 用户分类

- 用户进行注册，用户注册分为两种情况，
  - 本地用户，仅验证邮箱账户格式是否正确。
  - 托管用户，托管用户的邮箱账号和密码。

### 注册流程

1. 用户输入邮箱账户，失去焦点后验证邮箱格式是否正确。错误显示：**邮箱地址错误**。
2. 输入密码，要求密码长度大于 6 位。错误显示：**密码不能少于 6 位**。
3. 验证密码，与输入的密码一致。错误显示：**两次密码不一致**。
4. 托管邮箱（可选）用户勾选托管后，用户将账户和密码托管至我们服务器中加密存储。
5. 非托管用户直接直接进入 Presona 用户名称创建。
6. 托管用户进行邮箱验证码验证，邮箱验证码进行验证。有效期为 10 分钟。错误提示：**验证码不正确** **验证码已过期** 。验证码获取次数，单日最高获取数量 50 次。超出后，错误提示：**超出当日获取验证码次数**
7. Preaons 用户名称验证长度，最高不能超过 24 位。超出后，错误显示：**用户名超出最大长度**



### 登录



- 两种用户登录，托管用户和非托管用户。托管用户和非托管用户，均验证本地账户和密码。错误提示：
  - 验证邮箱格式是否正确。如错误显示：**邮箱地址不正确**
  - 验证本地是否有该账户数据。如错误显示：**邮箱地址不存在**
  - 验证密码，如错误显示：**密码与邮箱不匹配**
- 登录成功，验证是否创建 Personas 账户名，已验证跳转至绑定社交账号页面，未验证跳转至创建 Personas 页面。
- 登录成功后，验证是否绑定 Twitter 或者 Facebook，两者均未验证跳转至绑定页面。如果已绑定其中之一社交账户。跳转至 Dashboard 中 Personas 页面。



### 备份恢复

- 非登录恢复备份
  - 在欢迎页、登录、注册页面中均可以点击进入恢复备份弹窗。
  - 上传用户备份后
    - 验证备份是否为我们输出的正确备份，如不是显示**备份不支持**
    - 继续验证备份是创建账户之前还是之后的。
    - 新备份判断是否进行加密，没有加密直接恢复，显示恢复结果。
      - 新备份有加密显示原密码输入框，让用户输入密码，进行解密，如密码不正确显示**密码不正确**，密码正确后进行恢复，显示恢复结果。
    - 老备份直接进行恢复，显示恢复结果。恢复成功后进入至注册页面，进行账户和密码的设置，判断用户是否授权账户密码托管。
        - 托管进入邮箱验证环节。验证成功后，进入至 Dashboard 页面。
        - 不托管直接进入 Dashboard 页面。
  
- 登录恢复备份

  - 判断备份是否为 MaskNetwork 备份，如不是显示**当前备份不支持**
  - 判断备份是否为账户体系和非账户体系备份。
  
- 新备份继续下一步，老备份显示**备份需要退出当前账户后，在进行备份恢复**
  
- 判断备份是否为当前账户备份，如不是显示**备份不是当前账户备份，退出登录后。再进行备份恢复**
  
    



## 找回密码



为托管账户密码的用户提供密码找回服务。



- 在 Sign In 页面中建立 ForgotPassword 入口。
- 输入邮箱账号验证邮箱格式是否正确，如错误显示：**邮箱账户不正确**
- 点击 Send Reset Instructions 查询邮箱账户是否进行托管，
  - 如未托管显示：**账户地址未授权托管，无法找回密码**，
  - 如托管：**重置密码信息已经发送给您。请检查您的电子邮件** 
  - 邮箱重置密码。有效期为 24 小时。新的邮箱重置密码覆盖旧的邮箱重置密码链接有效性。超出时间点击跳转至 Forgot Password  页面。并显示：**重置密码链接已失效**
- 验证邮件链接正确后，进入重置密码页面。
  - 输入密码，要求密码长度大于 6 位。错误显示：**密码不能少于 6 位**。
  - 验证密码，与输入的密码一致。错误显示：**两次密码不一致**。
  - 密码重置成功显示：**密码重置成功**  跳转至 Personas 页面。

### 

[Figma 设计链接](https://www.figma.com/file/xxHFHHzRgN2E90xCOB83ae/Dashboard?node-id=18%3A4066)
