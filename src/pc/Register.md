## Register

![](http://assets.processon.com/chart_image/5fcf1bf2e0b34d42525295ae.png)

<iframe id="embed_dom" name="embed_dom" frameborder="0" style="display:block;width:1440px; height:1000px;" src="https://www.processon.com/embed/5fcf1bf2e0b34d42525295ab"></iframe>





### 需求描述

- 用户进行注册，用户注册分为两种情况，
  - 本地用户，仅验证邮箱账户格式是否正确。
  - 托管用户，托管用户的邮箱账号和密码。

### 注册流程

1. 用户输入邮箱账户，失去焦点后验证邮箱格式是否正确。错误显示：**邮箱地址错误**。
2. 输入密码，要求密码长度大于 6 位。错误显示：**密码不能少于 6 位**。
3. 验证密码，与输入的密码一致。错误显示：**两次密码不一致**。
4. 托管邮箱（可选）用户勾选托管后，用户将账户和密码托管至我们服务器中加密存储。
5. 非托管用户直接直接进入 Presona 用户名称创建。
6. 托管用户进行邮箱验证码验证，邮箱验证码进行验证。有效期为 10 分钟。错误提示：**验证码不正确** **验证码已过期** 。验证码获取次数，单日最高获取数量 50 次。超出后，错误提示：**超出当日获取验证码次数**
7. Preaons 用户名称验证长度，最高不能超过 32 位。超出后，错误显示：**用户名超出最大长度**









### SingIn





##  需求描述

- 两种用户登录，托管用户和非托管用户。托管用户和非托管用户，均验证本地账户和密码。错误提示：
  - 验证邮箱格式是否正确。如错误显示：**邮箱地址不正确**
  - 验证本地是否有该账户数据。如错误显示：**邮箱地址不存在**
  - 验证密码，如错误显示：**密码与邮箱不匹配**
- 登录成功，验证是否创建 Personas 账户名，已验证跳转至绑定社交账号页面，未验证跳转至创建 Personas 页面。
- 登录成功后，验证是否绑定 Twitter 或者 Facebook，两者均未验证跳转至绑定页面。如果已绑定其中之一社交账户。跳转至 Dashboard 中 Personas 页面。



## ForgotPassword

## 需求描述

为托管账户密码的用户提供密码找回服务。

## 找回流程

- 在 Sign In 页面中建立 ForgotPassword 入口。
- 输入邮箱账号验证邮箱格式是否正确，如错误显示：**邮箱账户不正确**
- 点击 Send Reset Instructions 查询邮箱账户是否进行托管，
  - 如未托管显示：**账户地址未授权托管，无法找回密码**，
  - 如托管：**重置密码信息已经发送给您。请检查您的电子邮件** 
  - 邮箱重置密码。有效期为 24 小时。新的邮箱重置密码覆盖旧的邮箱重置密码链接有效性。超出时间点击跳转至 Forgot Password  页面。并显示：**重置密码链接已失效**
- 验证邮件链接正确后，进入重置密码页面。
  - 输入密码，要求密码长度大于 6 位。错误显示：**密码不能少于 6 位**。
  - 验证密码，与输入的密码一致。错误显示：**两次密码不一致**。
  - 密码重置成功显示：**密码重置成功**  跳转至 Personas 页面。

### PasswordAuthorizaton